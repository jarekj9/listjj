{% extends 'base.html' %}
  
{% block page %}

<h2>Add category:</h2>
<form method="post" action="{% url 'modify_categories' %}">
	{% csrf_token %}
	{{ categoryform }}
	<button type="submit">Save</button>
</form>


<h2>Delete category:</h2>
<b>Deleting category will delete all logs with this category !</b>
<table class='table table-hover table-responsive table-striped'>
	<tr class="info">
			<td>Category</td>
			<td>Delete</td>
			<td>Set Default</td>
	</tr>



	{% for category in categories %}   <!--  Table with categories-->
		<tr>

			<td>				
				{% if category.0 == login.profile.default_category.id %}
				<span class="label label-primary">DEFAULT</span></br>
				{% endif %}
				{{ category.1 }}
			</td>
			
			<td>
				<form method="post" action="{% url 'delete_category' %}">
					{% csrf_token %}	
					<input type="hidden" name="category_id" value="{{ category.0 }}" />
					<button type="submit">Delete</button>
				</form>
			</td>

			<td>
				<form method="post" action="{% url 'set_default_category' %}">
					{% csrf_token %}	
					<input type="hidden" name="category_id" value="{{ category.0 }}" />
					<button type="submit">Set Default</button>
				</form>
			</td>
				
		</tr>
	{% endfor %}

		<tr>		 <!--  Works as footer -->
			<td></td>
			<td></td>
			<td>
				<form method="post" action="{% url 'set_default_category' %}">
					{% csrf_token %}	
					<input type="hidden" name="category_id" value="remove_default"/>
					<button type="submit">Remove Default</button>
				</form>
			</td>	
		</tr>




</table>


{% endblock %}